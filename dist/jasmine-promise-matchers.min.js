var installPromiseMatchers;(function(){var t,e,a,n;installPromiseMatchers=function(){angular.mock.inject(function($injector){t=$injector.get("$rootScope"),e=$injector.get("$httpBackend"),a=$injector.get("$timeout"),n=$injector.get("$interval")})};var s={PENDING:"pending",REJECTED:"rejected",RESOLVED:"resolved"},c=function(c,r,o,u,i){var f={};if(c.then(function(t){f.actualData=t,f.actualState=s.RESOLVED},function(t){f.actualData=t,f.actualState=s.REJECTED}),t.$apply(),!f.actualState){try{e.flush()}catch(l){if("No pending request to flush !"!==l.message)throw l}try{a.flush()}catch(l){if("No deferred tasks to be flushed"!==l.message)throw l}try{n.flush(1e5)}catch(l){if("No deferred tasks to be flushed"!==l.message)throw l}}if(f.message="Expected "+f.actualState+" to be "+r,f.pass=f.actualState===r,void 0!==o&&f.pass){f.pass=u?o&&o.asymmetricMatch?u.equals(f.actualData,o,i):angular.equals(f.actualData,o):o instanceof jasmine.Matchers.Any||o instanceof jasmine.Matchers.ObjectContaining?o.jasmineMatches(f.actualData):angular.equals(f.actualData,o);var E=jasmine.pp(f.actualData),h=jasmine.pp(o);f.message="Expected "+E+" to be "+h}return f},r=function(t){return{message:"Expected "+t+" to be a Promise",pass:t&&t.then instanceof Function}},o={toBePromise:function(){return r(this.actual)},toBeRejected:function(){return c(this.actual,s.REJECTED).pass},toBeRejectedWith:function(t){return c(this.actual,s.REJECTED,t).pass},toBeResolved:function(){return c(this.actual,s.RESOLVED).pass},toBeResolvedWith:function(t){return c(this.actual,s.RESOLVED,t).pass}},u={toBePromise:function(){return{compare:function(t){return r(t)}}},toBeRejected:function(){return{compare:function(t){return c(t,s.REJECTED)}}},toBeRejectedWith:function(t,e){return{compare:function(a,n){return c(a,s.REJECTED,n,t,e)}}},toBeResolved:function(){return{compare:function(t){return c(t,s.RESOLVED)}}},toBeResolvedWith:function(t,e){return{compare:function(a,n){return c(a,s.RESOLVED,n,t,e)}}}},i=/^2/.test(jasmine.version);beforeEach(function(){i?jasmine.addMatchers(u):this.addMatchers(o)})})();